<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <title>My Map</title>

    <!-- —à—Ä–∏—Ñ—Ç—ã -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Acme&family=Akaya+Telivigala&family=Inconsolata:wght@500&display=swap" rel="stylesheet">


    <script src="https://api-maps.yandex.ru/2.1/?apikey=620ff0b2-46cb-4eec-b74f-2c4e7ba4a56d&lang=ru_RU"
            type="text/javascript">
    </script>

    <style>
        body {
            /* –ì—Ä–∞–¥–∏–µ–Ω—Ç */
            background: linear-gradient(#8fcad9, #cef0f3) fixed;
            height: 100vh;
            display: flex;
            margin: 0;
            font-family: 'Acme', sans-serif;
            /*font-family: 'Akaya Telivigala', cursive;*/
            /*font-family: 'Inconsolata', monospace;*/
        }

        html {
            height: 100%;
        }

        .control {
            display: flex;
            justify-content: center;
            flex-direction: column;
            text-align: center;
            width: 26%;
            margin: 0 auto;
        }

        .label {
            font-size: 70px;
            color: #003049;

        }

        input {
            padding: 5px 5px;
            margin: 5px 5px;
            border-radius:10px;
        }

        /*BUTTONS*/
        .button, .del-button {
            text-decoration: none;
            display: inline-block;
            color: white;
            padding: 5px 5px;
            margin: 5px 5px;
            border-radius: 10px;
            font-family: 'Montserrat', sans-serif;
            text-transform: uppercase;
            letter-spacing: 2px;
            background-size: 200% auto;
            box-shadow: 0 0 20px rgba(0, 0, 0, .1);
            transition: .5s;
        }

        .button:hover, .del-button:hover {
            background-position: right center;
        }

        .button {
            background-image: linear-gradient(to right, #9bc7ec 0%, #1e63e3 51%, #7fb2d3 100%);
        }

        .del-button {
            background-image: linear-gradient(to right, #d37f93 0%, #1e63e3 51%, #d37f93 100%);
        }


        /*INPUT RADIO*/
        .mode-box {
            display: flex;
            justify-content: center;
            overflow: hidden;
        }
        .mode-box-item {
            display: inline-block;
            float: left;
            background: #e3f8fd;
            border-radius: 6px;
        }

        .mode-box input[type=radio] {
            display: none;
        }
        .mode-box label {
            display: inline-block;
            cursor: pointer;
            padding: 0 15px;
            line-height: 34px;
            border: 1px solid #000000;
            border-right: none;
            user-select: none;
        }

        .mode-box .mode-box-item:first-child label {
            border-radius: 6px 0 0 6px;
        }
        .mode-box .mode-box-item:last-child label {
            border-radius: 0 6px 6px 0;
            border-right: 1px solid #000000;
        }

        /* Checked */
        .mode-box input[type=radio]:checked + label {
            background: #98e1ff;
        }

        /* Hover */
        .mode-box label:hover {
            color: #000000;
        }
    </style>
</head>
<body>

<div class="control">
    <label class="label" for="address_1">MyMap</label>


    <div class="mode-box">
        <div class="mode-box-item">
            <input id="radio-1" type="radio" name="radio" value="auto">
            <label for="radio-1">üöó</label>
        </div>

        <div class="mode-box-item">
            <input id="radio-2" type="radio" name="radio" value="masstransit">
            <label for="radio-2">üöã</label>
        </div>

        <div class="mode-box-item">
            <input id="radio-3" type="radio" name="radio" value="pedestrian">
            <label for="radio-3">üö∂‚Äç‚ôÇ</label>
        </div>
    </div>

    <input id="address_1" type="text" placeholder="–û—Ç–∫—É–¥–∞ –µ–¥–µ–º">
    <input id="address_2" type="text" placeholder="–ö—É–¥–∞ –µ–¥–µ–º">

    <button class="button" type="button" onclick="makeRoute()">–ü–æ—Å—Ç—Ä–æ–∏—Ç—å –º–∞—Ä—à—Ä—É—Ç</button>
    <button class="del-button" type="button" onclick="clearMap()">–û—á–∏—Å—Ç–∏—Ç—å –∫–∞—Ä—Ç—É</button>
</div>

<div id="map" style="width: 80%; height: 100%; margin: 0"></div>
<br>

<script>// –§—É–Ω–∫—Ü–∏—è ymaps.ready() –±—É–¥–µ—Ç –≤—ã–∑–≤–∞–Ω–∞, –∫–æ–≥–¥–∞
// –∑–∞–≥—Ä—É–∑—è—Ç—Å—è –≤—Å–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã API, –∞ —Ç–∞–∫–∂–µ –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤–æ DOM-–¥–µ—Ä–µ–≤–æ.
ymaps.ready(init);

function init() {
    // –°–æ–∑–¥–∞–Ω–∏–µ –∫–∞—Ä—Ç—ã.
    myMap = new ymaps.Map("map", {
        // –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–∞ –∫–∞—Ä—Ç—ã.
        // –ü–æ—Ä—è–¥–æ–∫ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é: ¬´—à–∏—Ä–æ—Ç–∞, –¥–æ–ª–≥–æ—Ç–∞¬ª.
        // –ß—Ç–æ–±—ã –Ω–µ –æ–ø—Ä–µ–¥–µ–ª—è—Ç—å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã —Ü–µ–Ω—Ç—Ä–∞ –∫–∞—Ä—Ç—ã –≤—Ä—É—á–Ω—É—é,
        // –≤–æ—Å–ø–æ–ª—å–∑—É–π—Ç–µ—Å—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–º –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç.
        center: [55.8009332,37.5266524],
        // –£—Ä–æ–≤–µ–Ω—å –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è. –î–æ–ø—É—Å—Ç–∏–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
        // –æ—Ç 0 (–≤–µ—Å—å –º–∏—Ä) –¥–æ 19.
        zoom: 15,
        controls: ['zoomControl', 'typeSelector', 'geolocationControl']  // routeButtonControl - –∫–Ω–æ–ø–∫–∞ –¥–ª—è –ø–æ—Å—Ç—Ä–æ–µ–Ω–∏—è –º–∞—Ä—à—Ä—É—Ç–∞
    });
}

function makeRoute() { // –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞.
// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é —Å—Ç—Ä–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–æ–±–∏–ª—å–Ω—ã–π –º–∞—Ä—à—Ä—É—Ç.
    let pointFrom = document.getElementById('address_1').value
    let pointTo = document.getElementById('address_2').value

    let routingMode = ''
    let radio = document.querySelectorAll('input[name="radio"]');
    for (let i = 0; i < radio.length; i++) {
        if (radio[i].checked) {
            routingMode = radio[i].value;
        }
    }

    if (pointFrom === '' || pointTo === '') {
        alert('–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –ø–æ–ª—è')
    } else {
        myRoute = new ymaps.multiRouter.MultiRoute({
            referencePoints: [pointFrom, pointTo],
            params: {
                routingMode: routingMode,
                avoidTrafficJams: true
            }
        }, {
            boundsAutoApply: true,  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –≥—Ä–∞–Ω–∏—Ü—ã –∫–∞—Ä—Ç—ã —Ç–∞–∫, —á—Ç–æ–±—ã –º–∞—Ä—à—Ä—É—Ç –±—ã–ª –≤–∏–¥–µ–Ω —Ü–µ–ª–∏–∫–æ–º.
            routeActiveStrokeWidth: 10,
            routeActiveStrokeStyle: 'solid',
            routeActiveStrokeColor: '#2bccbf'
        });

// –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–∞—Ä—à—Ä—É—Ç–∞ –Ω–∞ –∫–∞—Ä—Ç—É.
        myMap.geoObjects.add(myRoute);
    }
}

function clearMap() {
    myMap.geoObjects.removeAll();
    myRoute && myMap.geoObjects.remove(myRoute);
}
</script>
</body>
</html>